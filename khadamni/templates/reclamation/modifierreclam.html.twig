<style>
#popup-container {
  display: block; /* changed from display: none */
  position: fixed;
  z-index: 1;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.4);
}


#popup {
  background-color: #fff;
  margin: 10% auto;
  padding: 20px;
  height: 80%;
  border: 1px solid #888;
  width: 40%;
}


#close-popup {
  display: block;
  margin-top: 20px;
}
</style>

<div id="popup-container">
  <div id="popup">
    <form method="post">
      <h1>Modifier une Reclmation</h1> 
      <table border="0">
        <thead>
          <tr>
            <th>{{ form_label(form.reclamationTitre, 'Titre') }}</th>
            <th>{{ form_widget(form.reclamationTitre) }}</th>
          </tr>
        </thead>
        <br>
        {{ form_widget(form._token) }}
        <br>
        <tbody>
          <tr>
            <th>{{ form_label(form.reclamationSubject, 'Contexte') }}</th>
            <td>{{ form_widget(form.reclamationSubject, {'attr': {'class': 'form-control'}}) }}</td>
          </tr>   
        </tbody>
      </table>
      <button type="submit" class="btn btn-primary">Modifier</button>
    </form>

   <!--  <button id="close-popup">Close Popup</button> -->
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
$(document).ready(function() {
  // When the button is clicked, show the popup
  $('#open-popup').on('click', function() {
    $('#popup-container').show();
  });

// When the form is submitted, hide the popup
 $('form').on('submit', function(event) {
    event.preventDefault(); // prevent the default form submission behavior
    // Submit the form using AJAX or fetch, then close the window after 2 seconds
    $.ajax({
        url: $(this).attr('action'),
        type: $(this).attr('method'),
        data: $(this).serialize(),
        success: function(response) {
            setTimeout(function() {
                window.close();
            }, 2000); // close the window after 2 seconds
        },
        error: function(xhr, status, error) {
            console.log(xhr.responseText);
        }
    });
});


});

</script>
